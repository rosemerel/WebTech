{"ast":null,"code":"var _jsxFileName = \"/home/rose/Documents/ING4/WebTechnologies/lab6-correction/front-end/src/Login.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\n/** @jsxImportSource @emotion/react */\nimport { useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport crypto from 'crypto';\nimport qs from 'qs';\nimport axios from 'axios'; // Layout\n\nimport { useTheme } from '@mui/styles';\nimport { Link } from '@mui/material'; //context\n\nimport UserProfileContextProvider from './UserProfileContext';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\n\nconst base64URLEncode = str => {\n  return str.toString('base64').replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n};\n\nconst sha256 = buffer => {\n  return crypto.createHash('sha256').update(buffer).digest();\n};\n\nconst useStyles = theme => ({\n  root: {\n    flex: '1 1 auto',\n    background: theme.palette.background.default,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    '& > div': {\n      margin: `${theme.spacing(1)}`,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    '& fieldset': {\n      border: 'none',\n      '& label': {\n        marginBottom: theme.spacing(.5),\n        display: 'block'\n      }\n    }\n  }\n});\n\nconst Redirect = _ref => {\n  _s();\n\n  let {\n    config,\n    codeVerifier\n  } = _ref;\n  const styles = useStyles(useTheme());\n\n  const redirect = e => {\n    e.stopPropagation();\n    const code_challenge = base64URLEncode(sha256(codeVerifier));\n    const url = [`${config.authorization_endpoint}?`, `client_id=${config.client_id}&`, `scope=${config.scope}&`, `response_type=code&`, `redirect_uri=${config.redirect_uri}&`, `code_challenge=${code_challenge}&`, `code_challenge_method=S256`].join('');\n    window.location = url;\n  };\n\n  return _jsxDEV(\"div\", {\n    css: styles.root,\n    children: _jsxDEV(Link, {\n      onClick: redirect,\n      color: \"secondary\",\n      children: \"Login with OpenID Connect and OAuth2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Redirect, \"B+SLk0rDrMgtQ+vBlbEmUJ4eBUo=\", false, function () {\n  return [useStyles, useTheme];\n});\n\n_c = Redirect;\n\nconst Tokens = _ref2 => {\n  _s2();\n\n  let {\n    oauth\n  } = _ref2;\n  const [,, removeCookie] = useCookies([]);\n  const styles = useStyles(useTheme());\n  const {\n    id_token\n  } = oauth;\n  const id_payload = id_token.split('.')[1];\n  const {\n    email\n  } = JSON.parse(atob(id_payload));\n\n  const logout = e => {\n    e.stopPropagation();\n    removeCookie('oauth');\n  };\n\n  return _jsxDEV(\"div\", {\n    css: styles.root,\n    children: [\"Welcome \", email, \" \", _jsxDEV(Link, {\n      onClick: logout,\n      color: \"secondary\",\n      children: \"logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Tokens, \"bQaRwVZcfY4zYTM3ZmLld1PdwWY=\", false, function () {\n  return [useCookies, useStyles, useTheme];\n});\n\n_c2 = Tokens;\n\nconst LoadToken = function (_ref3) {\n  _s3();\n\n  let {\n    code,\n    codeVerifier,\n    config,\n    removeCookie,\n    setCookie\n  } = _ref3;\n  const styles = useStyles(useTheme());\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const {\n          data: oauth\n        } = await axios.post(config.token_endpoint, qs.stringify({\n          grant_type: 'authorization_code',\n          client_id: `${config.client_id}`,\n          code_verifier: `${codeVerifier}`,\n          redirect_uri: `${config.redirect_uri}`,\n          code: `${code}`\n        }), {\n          headers: {\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n        removeCookie('code_verifier');\n        setCookie('oauth', oauth);\n        window.location = '/';\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetch();\n  });\n  return _jsxDEV(\"div\", {\n    css: styles.root,\n    children: \"Loading tokens\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(LoadToken, \"uQfAnsgmtVPFt+9AxDM0BZ7Matc=\", false, function () {\n  return [useStyles, useTheme];\n});\n\n_c3 = LoadToken;\nexport default function Login(_ref4) {\n  _s4();\n\n  let {\n    onUser\n  } = _ref4;\n  const styles = useStyles(useTheme());\n  const [cookies, setCookie, removeCookie] = useCookies([]);\n  const config = {\n    authorization_endpoint: 'http://127.0.0.1:5556/dex/auth',\n    token_endpoint: 'http://127.0.0.1:5556/dex/token',\n    client_id: 'webtech-frontend',\n    redirect_uri: 'http://127.0.0.1:3000',\n    scope: 'openid%20email%20offline_access'\n  };\n  const params = new URLSearchParams(window.location.search);\n  const code = params.get('code'); // Is there a code query parameters in the url\n\n  if (!code) {\n    // No: we are no being redirected from an oauth server\n    if (!cookies.oauth) {\n      const codeVerifier = base64URLEncode(crypto.randomBytes(32));\n      setCookie('code_verifier', codeVerifier);\n      return _jsxDEV(Redirect, {\n        codeVerifier: codeVerifier,\n        config: config,\n        css: styles.root\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this);\n    } else {\n      // Yes: user is already logged in, great, is is working\n      return _jsxDEV(Tokens, {\n        oauth: cookies.oauth,\n        css: styles.root\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this);\n    }\n  } else {\n    // Yes, we are coming from an oauth server\n    return _jsxDEV(LoadToken, {\n      code: code,\n      codeVerifier: cookies.code_verifier,\n      config: config,\n      setCookie: setCookie,\n      removeCookie: removeCookie\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s4(Login, \"zBjx4dl3x/WS0HpiXeT5eHu73vw=\", false, function () {\n  return [useStyles, useTheme, useCookies];\n});\n\n_c4 = Login;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Redirect\");\n$RefreshReg$(_c2, \"Tokens\");\n$RefreshReg$(_c3, \"LoadToken\");\n$RefreshReg$(_c4, \"Login\");","map":{"version":3,"sources":["/home/rose/Documents/ING4/WebTechnologies/lab6-correction/front-end/src/Login.js"],"names":["useEffect","useCookies","crypto","qs","axios","useTheme","Link","UserProfileContextProvider","base64URLEncode","str","toString","replace","sha256","buffer","createHash","update","digest","useStyles","theme","root","flex","background","palette","default","display","flexDirection","justifyContent","margin","spacing","marginLeft","marginRight","border","marginBottom","Redirect","config","codeVerifier","styles","redirect","e","stopPropagation","code_challenge","url","authorization_endpoint","client_id","scope","redirect_uri","join","window","location","Tokens","oauth","removeCookie","id_token","id_payload","split","email","JSON","parse","atob","logout","LoadToken","code","setCookie","fetch","data","post","token_endpoint","stringify","grant_type","code_verifier","headers","err","console","error","Login","onUser","cookies","params","URLSearchParams","search","get","randomBytes"],"mappings":"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","sourcesContent":["\n/** @jsxImportSource @emotion/react */\nimport { useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport crypto from 'crypto'\nimport qs from 'qs'\nimport axios from 'axios'\n// Layout\nimport { useTheme } from '@mui/styles';\nimport {Link} from '@mui/material';\n//context\nimport UserProfileContextProvider from './UserProfileContext';\n\nconst base64URLEncode = (str) => {\n  return str.toString('base64')\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n    .replace(/=/g, '');\n}\n\nconst sha256 = (buffer) => {\n  return crypto\n    .createHash('sha256')\n    .update(buffer)\n    .digest()\n}\n\nconst useStyles = (theme) => ({\n  root: {\n    flex: '1 1 auto',\n    background: theme.palette.background.default,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    '& > div': {\n      margin: `${theme.spacing(1)}`,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n    '& fieldset': {\n      border: 'none',\n      '& label': {\n        marginBottom: theme.spacing(.5),\n        display: 'block',\n      },\n    },\n  },\n})\n\nconst Redirect = ({\n  config,\n  codeVerifier,\n}) => {\n  const styles = useStyles(useTheme())\n  \n  const redirect = (e) => {\n    e.stopPropagation()\n    const code_challenge = base64URLEncode(sha256(codeVerifier))\n    const url = [\n      `${config.authorization_endpoint}?`,\n      `client_id=${config.client_id}&`,\n      `scope=${config.scope}&`,\n      `response_type=code&`,\n      `redirect_uri=${config.redirect_uri}&`,\n      `code_challenge=${code_challenge}&`,\n      `code_challenge_method=S256`,\n    ].join('')\n    window.location = url\n  }\n\n  return (\n    <div css={styles.root}>\n      <Link onClick={redirect} color=\"secondary\">Login with OpenID Connect and OAuth2</Link>\n    </div>\n  )\n}\n\nconst Tokens = ({\n  oauth\n}) => {\n  const [,, removeCookie] = useCookies([]);\n  const styles = useStyles(useTheme())\n  const {id_token} = oauth\n  const id_payload = id_token.split('.')[1]\n\n  const {email} = JSON.parse(atob(id_payload))\n  const logout = (e) => {\n    e.stopPropagation()\n    removeCookie('oauth')\n  }\n  return (\n    <div css={styles.root}>\n      Welcome {email} <Link onClick={logout} color=\"secondary\">logout</Link>\n    </div>\n  )\n}\n\nconst LoadToken = function({\n  code,\n  codeVerifier,\n  config,\n  removeCookie,\n  setCookie\n}) {\n  const styles = useStyles(useTheme())\n  useEffect( () => {\n    const fetch = async () => {\n      try {\n        const {data: oauth} = await axios.post(\n          config.token_endpoint\n        , qs.stringify ({\n          grant_type: 'authorization_code',\n          client_id: `${config.client_id}`,\n          code_verifier: `${codeVerifier}`,\n          redirect_uri: `${config.redirect_uri}`,\n          code: `${code}`,\n        }),\n        {\n          headers:{'Access-Control-Allow-Origin': '*'},\n        });\n        removeCookie('code_verifier')\n        setCookie('oauth', oauth)\n        window.location = '/'\n        \n\n\n      }catch (err) {\n        console.error(err)\n      }\n    }\n    fetch()\n  })\n  return (\n    <div css={styles.root}>Loading tokens</div>\n  )\n}\n\nexport default function Login({\n  onUser\n}) {\n  const styles = useStyles(useTheme())\n  const [cookies, setCookie, removeCookie] = useCookies([]);\n  const config = {\n    authorization_endpoint: 'http://127.0.0.1:5556/dex/auth',\n    token_endpoint: 'http://127.0.0.1:5556/dex/token',\n    client_id: 'webtech-frontend',\n    redirect_uri: 'http://127.0.0.1:3000',\n    scope: 'openid%20email%20offline_access',\n  }\n  const params = new URLSearchParams(window.location.search)\n  const code = params.get('code')\n  // Is there a code query parameters in the url\n  if(!code){ // No: we are no being redirected from an oauth server\n    if(!cookies.oauth){\n      const codeVerifier = base64URLEncode(crypto.randomBytes(32))\n      setCookie('code_verifier', codeVerifier)\n      return (\n        <Redirect codeVerifier={codeVerifier} config={config} css={styles.root} />\n      )\n    }else{ // Yes: user is already logged in, great, is is working\n      return (\n        <Tokens oauth={cookies.oauth} css={styles.root} />\n      )\n    }\n  }else{ // Yes, we are coming from an oauth server\n    return (\n      <LoadToken\n        code={code}\n        codeVerifier={cookies.code_verifier}\n        config={config}\n        setCookie={setCookie}\n        removeCookie={removeCookie} />\n    )\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module"}